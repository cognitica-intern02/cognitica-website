<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Safety Improvement Journey â€” Timeline</title>

<!-- Inter Medium -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">

<style>
:root{
  --teal:#00A9B2;
  --light-gray:#e9eef3;
  --heading:#3d3d3d;
  --text:#0b0b0b;
  --card-radius:14px;
  --maxw:1200px;
  --center-col:48px;
  --track-w:18px;
}

/* reset + background white */
html,body{height:100%;margin:0;padding:0;background:#ffffff;font-family:"Inter",system-ui,Arial,sans-serif;color:var(--text);}

/* container */
.wrap{max-width:var(--maxw);margin:36px auto;padding:0 20px;box-sizing:border-box;background:#fff;}

h1{
  text-align:center;
  font-size:35px;
  color:var(--heading);
  margin:12px 0 28px;
  font-weight:600;
}

/* timeline area */
.timeline{position:relative;padding:8px 0 60px;background:#fff;}

/* track */
.track-wrap{
  position:absolute; left:50%; transform:translateX(-50%);
  width:var(--track-w); top:0; bottom:0; pointer-events:none; z-index:0;
}
.track{
  width:100%; height:100%; background:var(--light-gray); border-radius:10px; position:relative;
  overflow:visible;
}
.track .progress{
  position:absolute; left:0; top:0; width:100%; height:0%;
  background:linear-gradient(180deg, var(--teal) 0%, #bfeff0 40%, #eef2f6 100%);
  border-radius:8px;
  transition:height 0.12s linear;
}

/* rows */
.row{
  display:grid;
  grid-template-columns: 1fr var(--center-col) 1fr;
  gap:8px;
  align-items:center;
  margin:22px 0;            /* reduced spacing */
  position:relative;
  z-index:2;
}

/* center column */
.center{display:flex;justify-content:center;align-items:center;}

/* marker */
.marker{
  width:34px; height:34px; border-radius:50%;
  background:#fff; box-shadow:0 10px 26px rgba(11,20,40,0.07);
  display:flex;align-items:center;justify-content:center; position:relative;
  border:1px solid rgba(0,0,0,0.03);
}
.marker::after{
  content:""; width:12px; height:12px; border-radius:50%;
  background:linear-gradient(180deg,var(--teal),#7edfdc);
  display:block;
}

/* card */
.card{
  background:#fff; padding:18px 22px; border-radius:var(--card-radius);
  box-shadow:0 18px 50px rgba(11,20,40,0.06);
  opacity:0; transform:translateY(12px);
  transition:opacity .48s ease, transform .48s cubic-bezier(.2,.9,.25,1);
  max-width:100%;
  text-align:left; /* left aligned content */
}
.card.visible{ opacity:1; transform:translateY(0); }

/* left / right tweaks */
.left .card{ margin-right:14px; }
.right .card{ margin-left:14px; }

/* title + desc */
.title{ color:var(--teal); font-size:20px; font-weight:600; margin-bottom:6px; }
.desc{ font-size:20px; color:var(--text); line-height:1.35; margin:0; }

/* responsive */
@media (max-width:900px){
  .row{ grid-template-columns: 40px 1fr; gap:10px; }
  .center{ grid-column:1/2; justify-content:flex-start; }
  .left,.right{ grid-column:2/3; padding:0; margin:0; }
  .track-wrap{ left:20px; transform:none; }
}
</style>
</head>
<body>
  <div class="wrap">
    <h1>Safety Improvement Journey</h1>

    <div class="timeline" id="timeline">
      <div class="track-wrap">
        <div class="track" id="track">
          <div id="progress" class="progress"></div>
        </div>
      </div>

      <!-- 1 -->
      <div class="row">
        <div class="left">
          <div class="card"><div class="title">Getting started is simple</div><div class="desc">Begin your safety transformation quickly with minimal setup.</div></div>
        </div>
        <div class="center"><div class="marker" data-idx="0"></div></div>
        <div class="right"></div>
      </div>

      <!-- 2 -->
      <div class="row">
        <div class="left"></div>
        <div class="center"><div class="marker" data-idx="1"></div></div>
        <div class="right">
          <div class="card"><div class="title">Prepare Your Company For the Future</div><div class="desc">Adopt AI-driven safety systems that scale with your operations.</div></div>
        </div>
      </div>

      <!-- 3 -->
      <div class="row">
        <div class="left">
          <div class="card"><div class="title">Prevent Accidents Early</div><div class="desc">Stop incidents before they happen with real-time computer vision.</div></div>
        </div>
        <div class="center"><div class="marker" data-idx="2"></div></div>
        <div class="right"></div>
      </div>

      <!-- 4 -->
      <div class="row">
        <div class="left"></div>
        <div class="center"><div class="marker" data-idx="3"></div></div>
        <div class="right">
          <div class="card"><div class="title">Understand Safety Issues</div><div class="desc">Identify behavioral and operational risks with clear insights.</div></div>
        </div>
      </div>

      <!-- 5 -->
      <div class="row">
        <div class="left">
          <div class="card"><div class="title">A Complete View of All Facilities</div><div class="desc">Monitor every zone from a single unified dashboard.</div></div>
        </div>
        <div class="center"><div class="marker" data-idx="4"></div></div>
        <div class="right"></div>
      </div>

      <!-- 6 -->
      <div class="row">
        <div class="left"></div>
        <div class="center"><div class="marker" data-idx="5"></div></div>
        <div class="right">
          <div class="card"><div class="title">Review Near-Miss Cases</div><div class="desc">Analyze past incidents to build proactive safety strategies.</div></div>
        </div>
      </div>

      <!-- 7 -->
      <div class="row">
        <div class="left">
          <div class="card"><div class="title">Make Your Machines Intelligent</div><div class="desc">Let your industrial machines detect humans and prevent errors instantly.</div></div>
        </div>
        <div class="center"><div class="marker" data-idx="6"></div></div>
        <div class="right"></div>
      </div>

      <!-- 8 -->
      <div class="row">
        <div class="left"></div>
        <div class="center"><div class="marker" data-idx="7"></div></div>
        <div class="right">
          <div class="card"><div class="title">See Your Safety Situation Clearly</div><div class="desc">Get complete, real-time visibility across your entire operation.</div></div>
        </div>
      </div>

    </div><!-- timeline -->
  </div><!-- wrap -->

<script>
/* Reveal cards using IntersectionObserver */
(function(){
  const cards = Array.from(document.querySelectorAll('.card'));
  if('IntersectionObserver' in window){
    const obs = new IntersectionObserver(entries=>{
      entries.forEach(e=>{
        if(e.isIntersecting) e.target.classList.add('visible');
      });
    }, { threshold: 0.25 });
    cards.forEach(c=>obs.observe(c));
  } else {
    // fallback: show all
    cards.forEach(c=>c.classList.add('visible'));
  }
})();

/* Progress height calculation: fill from top of track to last marker visible in viewport */
(function(){
  const progress = document.getElementById('progress');
  const timeline = document.getElementById('timeline');
  const markers = Array.from(document.querySelectorAll('.marker'));

  function updateProgress(){
    if(!timeline || markers.length===0) return;
    const timelineRect = timeline.getBoundingClientRect();
    const viewportHeight = window.innerHeight;

    // top of track in page coordinates:
    const trackTop = timelineRect.top + window.scrollY;
    // bottom of track
    const trackBottom = trackTop + timeline.scrollHeight;

    // find last marker whose center is <= viewportBottom
    const viewportBottom = window.scrollY + viewportHeight;
    let lastIncluded = markers[0];
    for(let i=0;i<markers.length;i++){
      const r = markers[i].getBoundingClientRect();
      const centerPageY = window.scrollY + r.top + (r.height/2);
      if(centerPageY <= viewportBottom - 10) lastIncluded = markers[i];
    }
    const firstRect = markers[0].getBoundingClientRect();
    const firstCenterPageY = window.scrollY + firstRect.top + firstRect.height/2;
    const lastRect = lastIncluded.getBoundingClientRect();
    const lastCenterPageY = window.scrollY + lastRect.top + lastRect.height/2;

    // clamp within timeline bounds
    const startY = Math.max(trackTop, firstCenterPageY);
    const endY = Math.min(trackBottom, lastCenterPageY);
    const totalDist = Math.max(1, trackBottom - trackTop);
    const filled = Math.max(0, Math.min(1, (endY - trackTop) / totalDist));

    progress.style.height = (filled*100) + '%';
  }

  // initialize + listeners
  window.addEventListener('scroll', throttle(updateProgress, 12));
  window.addEventListener('resize', throttle(updateProgress, 60));
  window.addEventListener('load', ()=>setTimeout(updateProgress, 120));
  setTimeout(updateProgress, 200);

  function throttle(fn, wait){
    let last=0;
    return function(...args){
      const now = Date.now();
      if(now - last > wait){ last = now; fn.apply(this,args); }
    };
  }
})();
</script>
</body>
</html>
